<?php
/** @var \Contestio\Connect\ViewModel\RouteChecker $viewModel */
$viewModel = $block->getData('view_model');

if ($viewModel->isContestioRoute() === false) {
  // If not contestio route, do not load React app
  return;
}

/** @var \Contestio\Connect\Block\React $block */
$iframeUrl = $block->getIframeUrl();
$queryParams = $block->getQueryParams();
?>

<style>
  /* Enlarge the container */
  main#maincontent  {
    max-width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  /* Make the container flex */
  .page-main > .columns,
  .page-main > .columns > .column.main {
    display: flex !important;
    width: 100% !important;
    max-width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  /* Up the Axeptio button to be above the bottombar */
  @media (max-width: 768px) {
    #axeptio_main_button {
      bottom: 90px !important;
    }
  }
</style>

<div class="contestio-container">
  <iframe
    src="<?php echo $iframeUrl; ?><?php echo $queryParams; ?>"
    width="100%"
    height="100%"
    frameborder="0"
    allowfullscreen
    class="contestio-iframe">
  </iframe>
</div>

